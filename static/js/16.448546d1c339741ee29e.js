webpackJsonp([16],{EiCG:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("woOf"),r=a.n(i),o={data:function(){var e=function(e,t,a){/^\+?[1-9]\d*$/.test(t)?a():a(new Error("数量必须大于零且不能为小数"))};return{userType:"",loading:!1,ruleForm:{principal:"",type:"",phone:"",record:"1",address:"",attendant:"0",firefighters:"0",operator:"0",teamLeader:"0",driver:"0",name:""},rules:{name:[{required:!0,message:"请输入微型站名称",trigger:"blur"}],principal:[{required:!0,message:"请输入负责人姓名",trigger:"blur"}],phone:[{required:!0,message:"请输入负责人手机",trigger:"blur"},{pattern:/^1(3|4|5|6|7|8|9)\d{9}$/,message:"手机格式不正确",trigger:"blur"}],type:[{required:!0,message:"请选择微型站等级",trigger:"blur"}],record:[{required:!0,message:"请选择是否备案",trigger:"blur"}],address:[{required:!0,message:"请描述微型站具体位置",trigger:"blur"}]},peoplerules:{attendant:[{required:!0,message:"请输入值班员数量",trigger:"blur"}],firefighters:[{required:!0,message:"请输入消防员数量",trigger:"blur"}],operator:[{required:!0,message:"请输入消控室操作员数量",trigger:"blur"},{validator:function(e,t,a){/^\+?[1-9]\d*$/.test(t)?t<2?a(new Error("数量最少为2")):a():a(new Error("数量必须大于零且不能为小数"))},required:!0,trigger:"blur"}]},personForm:{certificate:"1",name:"",phone:"",type:""},personRules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}],phone:[{required:!0,message:"请输入联系电话",trigger:"blur"},{pattern:/^1(3|4|5|6|7|8|9)\d{9}$/,message:"手机格式不正确",trigger:"blur"}],type:[{required:!0,message:"请选择人员类型",trigger:"blur"}],keepRecord:[{required:!0,message:"请选择是否持证",trigger:"blur"}]},facilitiesForm:{waterGun:"0",hose:"0",hydrantWrench:"0",extinguisher:"0",strongLight:"0",fireAxe:"0",scissorsPliers:"0",ironCollar:"0",fireHelmet:"0",protectiveClothing:"0",protectiveBoots:"0",safetyBelt:"0",fireGloves:"0",gasMask:"0",telephone:"0",intercom:"0",pocIntercom:"0"},facilitiesRules:{waterGun:[{required:!0,message:"请输入水枪数量",trigger:"blur"},{validator:e,required:!0,trigger:"blur"}],hose:[{required:!0,message:"请输入消火栓扳手数量",trigger:"blur"},{validator:e,required:!0,trigger:"blur"}],hydrantWrench:[{required:!0,message:"请输入水带数量",trigger:"blur"},{validator:e,required:!0,trigger:"blur"}],extinguisher:[{required:!0,message:"请输入ABC型干粉灭火器(4公斤装)数量",trigger:"blur"},{validator:e,required:!0,trigger:"blur"}],strongLight:[{required:!0,message:"请输入强光照明灯数量",trigger:"blur"},{validator:e,required:!0,trigger:"blur"}],fireAxe:[{required:!0,message:"请输入消防斧数量",trigger:"blur"},{validator:e,required:!0,trigger:"blur"}],scissorsPliers:[{required:!0,message:"请输入绝缘剪断钳数量",trigger:"blur"},{validator:e,required:!0,trigger:"blur"}],ironCollar:[{required:!0,message:"请输入铁铤数量",trigger:"blur"},{validator:e,required:!0,trigger:"blur"}],fireHelmet:[{required:!0,message:"请输入消防头盔数量",trigger:"blur"},{validator:e,required:!0,trigger:"blur"}],protectiveClothing:[{required:!0,message:"请输入消防员灭火防护服数量",trigger:"blur"},{validator:e,required:!0,trigger:"blur"}],protectiveBoots:[{required:!0,message:"请输入消防员灭火防护靴数量",trigger:"blur"},{validator:e,required:!0,trigger:"blur"}],safetyBelt:[{required:!0,message:"请输入消防安全腰带数量",trigger:"blur"},{validator:e,required:!0,trigger:"blur"}],fireGloves:[{required:!0,message:"请输入消防手套数量",trigger:"blur"},{validator:e,required:!0,trigger:"blur"}],gasMask:[{required:!0,message:"请输入消防过滤式综合防毒面具数量",trigger:"blur"},{validator:e,required:!0,trigger:"blur"}],telephone:[{required:!0,message:"请输入固定电话(值班室,寝室同号分机)数量",trigger:"blur"},{validator:e,required:!0,trigger:"blur"}],intercom:[{required:!0,message:"请输入对讲机数量",trigger:"blur"},{validator:e,required:!0,trigger:"blur"}],pocIntercom:[{required:!0,message:"请输入POC对讲机数量",trigger:"blur"},{validator:e,required:!0,trigger:"blur"}]},gradeData:[{value:1,label:"一级微型站"},{value:2,label:"二级微型站"},{value:3,label:"三级微型站"}],personTypeData:[{value:1,label:"值班员"},{value:2,label:"消防员"},{value:3,label:"消控室操作员"},{value:4,label:"班组长"},{value:5,label:"驾驶员"}],defaultProps:{children:"children",label:"label"},addFalg:!0,Treedata:[],filterText:"",unitId:"",pageNum:1,pageSize:10,total:100,tableData:[],personData:[{name:"张三",phone:"13095570045",height:"是",type:"值班人员"}],dialogVisible:!1,basicInformation:!1,type:"2",personDialog:!1,personAddDialog:!1,searchPersonValue:"",searchPersonType:"",personPageNum:1,personPageSize:10,personTotal:100,stationId:"",facilitiesAddDialog:!1,srcList:["https://oss-kaleidoscope.oss-cn-hangzhou.aliyuncs.com/unit/1581668243291-328125c648bb2029679c13313392a21.png"],url:"https://oss-kaleidoscope.oss-cn-hangzhou.aliyuncs.com/unit/1581668243291-328125c648bb2029679c13313392a21.png",srcPerson:["https://oss-kaleidoscope.oss-cn-hangzhou.aliyuncs.com/unit/1581669761852-c3f9460deb62678e8277632bef55e2b.png"],ArchitecturalVisible:!1,imgList:[],unitOptions:[{id:1,name:"第一张"},{id:2,name:"第二张"},{id:3,name:"第三张"},{id:4,name:"第四张"}],posterURL:"",phoneName:"",imgUrl:"",upload:"",typeList:[{id:1,name:"是"},{id:0,name:"否"}],types:"",types1:""}},methods:{handleReset1:function(){this.types="",this.types1="",this.currentPage=1,this.getData()},seach:function(){this.currentPage=1,this.getData()},beforeUpload:function(e){var t=e.name.substring(e.name.lastIndexOf(".")+1),a="jpg"===t,i="png"===t,r=e.size/1024/1024<5;return a||i?r?(this.posterURL=URL.createObjectURL(e.raw),void(this.upload=e.raw)):(this.$message({message:"上传文件大小不能超过 5MB!",type:"warning"}),this.$refs.upload.clearFiles(),void(this.files=null)):(this.$message({message:"上传文件只能是jpg,png格式!",type:"warning"}),this.$refs.upload.clearFiles(),void(this.imgFile=null))},unituploads:function(){var e=this,t=this;if(this.loading=!0,t.phoneName){t.posterURL||t.$alert("请上传图片","提示",{confirmButtonText:"OK"});var a=new FormData;a.append("file",this.upload),a.append("fileType",6),this.axios({url:"/api/admin/file/upload",method:"post",data:a}).then(function(a){0==a.data.code?(e.loading=!1,t.imgUrl=a.data.data.fileUrl,e.$message({message:"上传成功",type:"success"})):(e.loading=!1,e.$message({message:a.data.msg,type:"error"}))})}else t.$alert("请选择图片选项","提示",{confirmButtonText:"OK"})},photoSubmit:function(){var e=this;this.axios({url:"api/admin/fire/station/images/add",method:"post",data:{image:this.imgUrl,stationId:this.stationId,num:this.phoneName}}).then(function(t){0===t.data.code?e.$alert("添加成功","提示",{confirmButtonText:"OK",callback:function(){e.photoReset(),e.photoList()}}):e.$alert(t.data.msg,"提示",{confirmButtonText:"OK"})})},photoList:function(){var e=this;this.axios({url:"/api/admin/fire/station/images/list",method:"post",data:{id:this.stationId}}).then(function(t){0===t.data.code?e.imgList=t.data.data:e.$alert(t.data.msg,"提示",{confirmButtonText:"OK"})})},photoReset:function(){this.posterURL="",this.imgUrl="",this.phoneName=""},openArchitectural:function(e){this.stationId=e,this.photoList(),this.ArchitecturalVisible=!0},closeArchitectural:function(){this.ArchitecturalVisible=!1},renderContent:function(e,t){var a=t.node;return e("span",[e("i",{class:t.data.icon})," ",e("span",[a.label])])},handleNodeClick:function(e){this.unitId=e.id,this.pageSize=10,this.pageNum=1,0==e.type?this.addFalg=!0:this.addFalg=!1,this.getData()},openNode:function(e){e.icon="el-icon-folder-opened"},closeNode:function(e){e.icon="el-icon-folder"},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},addBuild:function(){this.dialogVisible=!0},closedialog:function(){this.dialogVisible=!1,delete this.ruleForm.id,r()(this.$data.ruleForm,this.$options.data().ruleForm)},nextBox:function(){this.basicInformation=!0},submitData:function(e){var t=this;this.$refs[e].validate(function(e){if(e){t.ruleForm.unitId=t.unitId;var a="/api/admin/fire/station/add";t.ruleForm.id&&(a="/api/admin/fire/station/update");var i=t;t.axios({url:a,method:"post",data:t.ruleForm}).then(function(e){0==e.data.code?i.$alert("保存成功","提示",{confirmButtonText:"OK",callback:function(){i.getData(),i.closeBasicInformation()}}):i.$alert(e.data.msg,"提示",{confirmButtonText:"OK"})})}})},handleDelete:function(e){var t=this;this.$confirm("你确定要删除吗").then(function(){var a=t;t.axios({url:"/api/admin/fire/station/delete",method:"post",data:{id:e}}).then(function(e){0==e.data.code?a.$alert("删除成功","提示",{confirmButtonText:"OK",callback:function(){a.getData()}}):a.$alert(e.data.msg,"提示",{confirmButtonText:"OK"})})})},editData:function(e){var t=this;this.axios({url:"/api/admin/fire/station/single",method:"post",data:{id:e}}).then(function(e){0==e.data.code?(t.ruleForm=e.data.data,t.ruleForm.record=String(t.ruleForm.record),t.addBuild()):t.$alert(e.data.msg,"提示",{confirmButtonText:"OK"})})},closeBasicInformation:function(){this.dialogVisible=!1,this.basicInformation=!1},getData:function(){var e=this;this.axios({url:"/api/admin/fire/station/list",method:"post",data:{id:this.unitId,type:this.types,record:this.types1}}).then(function(t){if(0==t.data.code)for(var a in e.tableData=t.data.data,e.total=t.data.total,e.tableData)e.tableData[a].typeName=e.tableData[a].type+"级微型站",1==e.tableData[a].record?e.tableData[a].recordName="是":e.tableData[a].recordName="否";else e.$alert(t.data.msg,"提示",{confirmButtonText:"OK"})})},getTreeData:function(){var e=this,t=this;this.axios({url:"api/admin/unit/list.left",method:"post",params:{pageNum:1,pageSize:1e3}}).then(function(a){0==a.data.code?e.Treedata=a.data.data:t.$alert(a.data.msg,"提示",{confirmButtonText:"OK"})})},personSizeChange:function(e){this.personPageSize=e,this.getPersonData()},personCurrentChange:function(e){this.personPageNum=e,this.getPersonData()},personBox:function(e,t){this.stationId=e,this.type=t,this.personDialog=!0,this.getPersonData()},getPersonData:function(){var e=this;this.axios({url:"/api/admin/fire/station/person/search/page",method:"post",data:{pageNum:this.personPageNum,pageSize:this.personPageSize,stationId:this.stationId,name:this.searchPersonValue,type:this.searchPersonType}}).then(function(t){if(0==t.data.code)for(var a in e.personTotal=t.data.total,e.personData=t.data.list,e.personData)1==e.personData[a].type?e.personData[a].typeName="值班员":2==e.personData[a].type?e.personData[a].typeName="消防员":3==e.personData[a].type?e.personData[a].typeName="操作员":4==e.personData[a].type?e.personData[a].typeName="班组长":e.personData[a].typeName="驾驶员",1==e.personData[a].certificate?e.personData[a].certificateName="是":e.personData[a].certificateName="否";else e.$alert(t.data.msg,"提示",{confirmButtonText:"OK"})})},closepersonDialog:function(){this.personDialog=!1},personAddDialogFun:function(){this.personAddDialog=!1,r()(this.$data.personForm,this.$options.data().personForm)},searchPerson:function(){this.getPersonData()},resetPerson:function(){this.searchPersonValue="",this.searchPersonType=""},addPerson:function(){this.personAddDialog=!0},personSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(e){t.personForm.stationId=t.stationId;var a=t;t.axios({url:"/api/admin/fire/station/person/add",method:"post",data:t.personForm}).then(function(e){0==e.data.code?a.$alert("保存成功","提示",{confirmButtonText:"OK",callback:function(){a.personAddDialogFun(),a.getPersonData()}}):a.$alert(e.data.msg,"提示",{confirmButtonText:"OK"})})}})},deletePersonData:function(e){var t=this;this.axios({url:"/api/admin/fire/station/person/delete",method:"post",data:{id:e}}).then(function(e){0==e.data.code?t.$alert("删除成功","提示",{confirmButtonText:"OK",callback:function(){t.getPersonData()}}):t.$alert(e.data.msg,"提示",{confirmButtonText:"OK"})})},editPersonData:function(e){var t=this;this.axios({url:"/api/admin/fire/station/person/search/single",method:"post",data:{id:e}}).then(function(e){0==e.data.code?(t.personForm=e.data.data,t.personForm.certificate=String(t.personForm.certificate),t.addPerson()):t.$alert(e.data.msg,"提示",{confirmButtonText:"OK"})})},facilitiesBox:function(e,t){this.type=t,this.stationId=e,this.facilitiesSingle(e),this.facilitiesAddDialog=!0},facilitiesAddDialogFun:function(){this.facilitiesAddDialog=!1,r()(this.$data.facilitiesForm,this.$options.data().facilitiesForm)},facilitiesSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(e){t.facilitiesForm.stationId=t.stationId;var a=t;t.axios({url:"/api/admin/fire/station/equipment/save",method:"post",data:t.facilitiesForm}).then(function(e){0==e.data.code?a.$alert("保存成功","提示",{confirmButtonText:"OK",callback:function(){a.facilitiesAddDialogFun()}}):a.$alert(e.data.msg,"提示",{confirmButtonText:"OK"})})}})},facilitiesSingle:function(e){var t=this;this.axios({url:"/api/admin/fire/station/equipment/single",method:"post",data:{id:e}}).then(function(e){0==e.data.code?e.data.data&&(t.facilitiesForm=e.data.data):t.$alert(e.data.msg,"提示",{confirmButtonText:"OK"})})}},mounted:function(){this.userType=sessionStorage.getItem("userTypes"),this.unitId=sessionStorage.getItem("unitId"),this.getData(),3==this.userType?this.addFalg=!1:this.getTreeData()},watch:{filterText:function(e){this.$refs.tree.filter(e)}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"miniStationManagement allcontent"},[a("el-row",{staticStyle:{height:"100%"}},[3!=e.userType?a("el-col",{staticClass:"tree_box",attrs:{span:4}},[a("div",[a("el-input",{staticClass:"filter_text",attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),a("el-tree",{ref:"tree",attrs:{data:e.Treedata,props:e.defaultProps,"render-content":e.renderContent,"highlight-current":"","filter-node-method":e.filterNode},on:{"node-click":e.handleNodeClick}})],1)]):e._e(),e._v(" "),a("el-col",{staticStyle:{"padding-left":"10px",height:"100%"},attrs:{span:20}},[a("div",[e._v("\n                  微型站类型 "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.types,callback:function(t){e.types=t},expression:"types"}},e._l(e.gradeData,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v("\n                     是否备案 "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.types1,callback:function(t){e.types1=t},expression:"types1"}},e._l(e.typeList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:e.addFalg},on:{click:e.addBuild}},[e._v("新增")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.seach}},[e._v(" 查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleReset1}},[e._v("重置")]),e._v(" "),a("el-button",{staticClass:"imageBox",attrs:{type:"primary"}},[e._v("人员要求\n                    "),a("el-image",{attrs:{src:e.url,"preview-src-list":e.srcPerson}})],1),e._v(" "),a("el-button",{staticClass:"imageBox",attrs:{type:"primary"}},[e._v("\n                    设施参考标准\n                    "),a("el-image",{attrs:{src:e.url,"preview-src-list":e.srcList}})],1)],1),e._v(" "),a("div",{staticClass:"bottom"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"unitName",label:"单位名称",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",width:"220"}}),e._v(" "),a("el-table-column",{attrs:{prop:"typeName",label:"类型",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"recordName",label:"是否备案",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"principal",label:"负责人姓名",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"负责人电话",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.editData(t.row.id)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.row.id)}}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.personBox(t.row.id,t.row.type)}}},[e._v("人员信息")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.facilitiesBox(t.row.id,t.row.type)}}},[e._v("设施信息")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.openArchitectural(t.row.id)}}},[e._v("查看图片")])]}}])})],1)],1),e._v(" "),a("el-dialog",{staticClass:"dialog",attrs:{title:"单位图",visible:e.ArchitecturalVisible,width:"50%","close-on-click-modal":!1,"before-close":e.closeArchitectural},on:{"update:visible":function(t){e.ArchitecturalVisible=t}}},[a("fieldset",[a("legend",[e._v("各单位图片")]),e._v(" "),a("el-carousel",{attrs:{autoplay:!1,arrow:"always",height:"300px","initial-index":1}},e._l(e.imgList,function(t){return a("el-carousel-item",{key:t.name,staticClass:"elbg"},[a("span",{staticStyle:{width:"100%","text-align":"center",display:"inline-block","margin-bottom":"5px"}},[e._v(" 第"+e._s(t.num)+"张 ")]),e._v(" "),a("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.image,alt:""}})])}),1)],1),e._v(" "),a("fieldset",[a("legend",[e._v("新增单位图片")]),e._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"图片选项"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.phoneName,callback:function(t){e.phoneName=t},expression:"phoneName"}},e._l(e.unitOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{staticStyle:{height:"auto"},attrs:{label:"单位图片",prop:"phone"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"",accept:".jpg,.png,.JPG,.PNG","show-file-list":!1,"on-change":e.beforeUpload,"auto-upload":!1}},[e.posterURL?[e.loading?[e.posterURL?a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"上传中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("img",{staticClass:"avatar",attrs:{src:e.posterURL}})]):e._e()]:[a("img",{staticClass:"avatar",attrs:{src:e.posterURL}})]]:a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})],2),e._v(" "),a("el-button",{on:{click:e.unituploads}},[e._v("立即上传")])],1),e._v(" "),a("el-form-item",{attrs:{"solt-scope":"scope"}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.photoSubmit}},[e._v("提交")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.photoReset}},[e._v("重置")])],1)],1)],1)]),e._v(" "),a("el-dialog",{staticClass:"dialog",attrs:{title:"微型站基础信息",visible:e.dialogVisible,width:"45%","close-on-click-modal":!1,"before-close":e.closedialog},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"150px"}},[a("div",{staticClass:"doubtBox"},[a("div",{staticClass:"title"},[e._v("\n                                微型站类型如何判断?\n                            ")]),e._v(" "),a("div",{staticClass:"doubtBox_content"},[a("h3",[e._v("分级标准")]),e._v(" "),a("h5",[e._v("单位微型消防站分为三级：")]),e._v(" "),a("span",[e._v("（一）设有消控室的重点单位，应建立一级微型消防站。同一建筑内多个重点单位共用消防控制室的，应按照一级微型消防站的要求分别独立建站。")]),e._v(" "),a("span",[e._v("（二）无消控室、员工人数在10人（含）以上的重点单位，应建立二级微型消防站。")]),e._v(" "),a("span",[e._v("（三）无消控室、员工人数在10人以下的重点单位，应建立三级微型消防站。")]),e._v(" "),a("span",[e._v("（四）非重点单位可参照此分级标准建立微型消防站。")])])]),e._v(" "),a("el-form-item",{attrs:{label:"微型站名称",prop:"name"}},[a("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"微型站类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},e._l(e.gradeData,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否备案",prop:"record"}},[a("el-radio",{attrs:{label:"1"},model:{value:e.ruleForm.record,callback:function(t){e.$set(e.ruleForm,"record",t)},expression:"ruleForm.record"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"0"},model:{value:e.ruleForm.record,callback:function(t){e.$set(e.ruleForm,"record",t)},expression:"ruleForm.record"}},[e._v("否")])],1),e._v(" "),a("el-form-item",{attrs:{label:"负责人姓名",prop:"principal"}},[a("el-input",{model:{value:e.ruleForm.principal,callback:function(t){e.$set(e.ruleForm,"principal",t)},expression:"ruleForm.principal"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"负责人电话",prop:"phone"}},[a("el-input",{model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",t)},expression:"ruleForm.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"位置描述",prop:"address"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请填写具体建设位置 如：1楼北角落"},model:{value:e.ruleForm.address,callback:function(t){e.$set(e.ruleForm,"address",t)},expression:"ruleForm.address"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.nextBox}},[e._v("下一步")]),e._v(" "),a("el-button",{on:{click:e.closedialog}},[e._v("取 消")])],1),e._v(" "),a("el-dialog",{staticClass:"dialog",attrs:{title:"人员数量信息",visible:e.basicInformation,width:"45%","close-on-click-modal":!1,"append-to-body":!0,"before-close":e.closeBasicInformation},on:{"update:visible":function(t){e.basicInformation=t}}},[a("el-form",{ref:"peopleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.peoplerules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"值班员数量",prop:"attendant"}},[a("el-input",{model:{value:e.ruleForm.attendant,callback:function(t){e.$set(e.ruleForm,"attendant",t)},expression:"ruleForm.attendant"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"消防员数量",prop:"firefighters"}},[a("el-input",{model:{value:e.ruleForm.firefighters,callback:function(t){e.$set(e.ruleForm,"firefighters",t)},expression:"ruleForm.firefighters"}})],1),e._v(" "),[a("el-form-item",{attrs:{label:"消控室操作员数量",prop:"operator"}},[a("el-input",{model:{value:e.ruleForm.operator,callback:function(t){e.$set(e.ruleForm,"operator",t)},expression:"ruleForm.operator"}})],1)],e._v(" "),a("el-form-item",{attrs:{label:"班组长数量"}},[a("el-input",{model:{value:e.ruleForm.teamLeader,callback:function(t){e.$set(e.ruleForm,"teamLeader",t)},expression:"ruleForm.teamLeader"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"驾驶员数量"}},[a("el-input",{model:{value:e.ruleForm.driver,callback:function(t){e.$set(e.ruleForm,"driver",t)},expression:"ruleForm.driver"}})],1),e._v(" "),a("div",{staticClass:"dialog-footer"},[a("el-button",{directives:[{name:"noMoreClick",rawName:"v-noMoreClick"}],attrs:{type:"primary"},on:{click:function(t){return e.submitData("peopleForm")}}},[e._v("保存")]),e._v(" "),a("el-button",{on:{click:e.closeBasicInformation}},[e._v("取 消")])],1)],2)],1)],1),e._v(" "),a("el-dialog",{staticClass:"personDialog",attrs:{title:"人员信息",visible:e.personDialog,width:"65%","close-on-click-modal":!1,"before-close":e.closepersonDialog},on:{"update:visible":function(t){e.personDialog=t}}},[a("div",{staticClass:"personTop"},[e._v("\n                        人员姓名:\n                        "),a("el-input",{model:{value:e.searchPersonValue,callback:function(t){e.searchPersonValue=t},expression:"searchPersonValue"}}),e._v("\n                        人员类型:\n                        "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchPersonType,callback:function(t){e.searchPersonType=t},expression:"searchPersonType"}},e._l(e.personTypeData,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.searchPerson}},[e._v("查询")]),e._v(" "),a("el-button",{on:{click:e.resetPerson}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addPerson}},[e._v("新增")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.personData,border:""}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"电话",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"certificateName",label:"是否持证",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"typeName",label:"人员类型",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.deletePersonData(t.row.id)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"page_all"},[a("el-pagination",{attrs:{"current-page":e.personPageNum,"page-sizes":[10,20,50,100],"page-size":e.personPageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.personTotal},on:{"size-change":e.personSizeChange,"current-change":e.personCurrentChange}})],1),e._v(" "),a("el-dialog",{staticClass:"dialog",attrs:{title:"人员信息",visible:e.personAddDialog,width:"40%","close-on-click-modal":!1,"append-to-body":!0,"before-close":e.personAddDialogFun},on:{"update:visible":function(t){e.personAddDialog=t}}},[a("el-form",{ref:"personForm",staticClass:"demo-ruleForm",attrs:{model:e.personForm,rules:e.personRules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{model:{value:e.personForm.name,callback:function(t){e.$set(e.personForm,"name",t)},expression:"personForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电话",prop:"phone"}},[a("el-input",{model:{value:e.personForm.phone,callback:function(t){e.$set(e.personForm,"phone",t)},expression:"personForm.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"人员类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.personForm.type,callback:function(t){e.$set(e.personForm,"type",t)},expression:"personForm.type"}},e._l(e.personTypeData,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否持证",prop:"certificate"}},[a("el-radio",{attrs:{label:"1"},model:{value:e.personForm.certificate,callback:function(t){e.$set(e.personForm,"certificate",t)},expression:"personForm.certificate"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"0"},model:{value:e.personForm.certificate,callback:function(t){e.$set(e.personForm,"certificate",t)},expression:"personForm.certificate"}},[e._v("否")])],1),e._v(" "),a("el-form-item",[a("el-button",{directives:[{name:"noMoreClick",rawName:"v-noMoreClick"}],attrs:{type:"primary"},on:{click:function(t){return e.personSubmit("personForm")}}},[e._v("保存")]),e._v(" "),a("el-button",{on:{click:e.personAddDialogFun}},[e._v("取消")])],1)],1)],1)],1),e._v(" "),a("el-dialog",{staticClass:"dialog",attrs:{title:"设施信息",visible:e.facilitiesAddDialog,width:"75%","close-on-click-modal":!1,"before-close":e.facilitiesAddDialogFun},on:{"update:visible":function(t){e.facilitiesAddDialog=t}}},[a("el-form",{ref:"facilitiesForm",staticClass:"demo-ruleForm",attrs:{inline:!0,model:e.facilitiesForm,"label-width":"220px"}},[a("fieldset",[a("legend",[e._v("灭火器材")]),e._v(" "),a("el-form-item",{attrs:{label:"水枪数量",prop:"waterGun"}},[a("el-input",{attrs:{type:"number"},model:{value:e.facilitiesForm.waterGun,callback:function(t){e.$set(e.facilitiesForm,"waterGun",t)},expression:"facilitiesForm.waterGun"}}),e._v(" 把\n                        ")],1),e._v(" "),a("el-form-item",{attrs:{label:"消火栓扳手数量",prop:"hydrantWrench"}},[a("el-input",{attrs:{type:"number"},model:{value:e.facilitiesForm.hydrantWrench,callback:function(t){e.$set(e.facilitiesForm,"hydrantWrench",t)},expression:"facilitiesForm.hydrantWrench"}}),e._v(" 把\n                        ")],1),e._v(" "),a("el-form-item",{attrs:{label:"ABC型干粉灭火器(4公斤装)数量",prop:"extinguisher"}},[a("el-input",{attrs:{type:"number"},model:{value:e.facilitiesForm.extinguisher,callback:function(t){e.$set(e.facilitiesForm,"extinguisher",t)},expression:"facilitiesForm.extinguisher"}}),e._v(" 个\n                        ")],1),e._v(" "),a("el-form-item",{attrs:{label:"强光照明灯数量",prop:"strongLight"}},[a("el-input",{attrs:{type:"number"},model:{value:e.facilitiesForm.strongLight,callback:function(t){e.$set(e.facilitiesForm,"strongLight",t)},expression:"facilitiesForm.strongLight"}}),e._v(" 个\n                        ")],1),e._v(" "),a("el-form-item",{attrs:{label:"水带(根据实际配备80MM/65MM水带)数量",prop:"hose"}},[a("el-input",{attrs:{type:"number"},model:{value:e.facilitiesForm.hose,callback:function(t){e.$set(e.facilitiesForm,"hose",t)},expression:"facilitiesForm.hose"}}),e._v(" 盘\n                        ")],1)],1),e._v(" "),a("fieldset",[a("legend",[e._v("破拆器材")]),e._v(" "),3==e.type?[a("el-form-item",{attrs:{label:"消防斧数量"}},[a("el-input",{attrs:{type:"number"},model:{value:e.facilitiesForm.fireAxe,callback:function(t){e.$set(e.facilitiesForm,"fireAxe",t)},expression:"facilitiesForm.fireAxe"}}),e._v(" 把\n                            ")],1)]:[a("el-form-item",{attrs:{label:"消防斧数量",prop:"fireAxe"}},[a("el-input",{attrs:{type:"number"},model:{value:e.facilitiesForm.fireAxe,callback:function(t){e.$set(e.facilitiesForm,"fireAxe",t)},expression:"facilitiesForm.fireAxe"}}),e._v(" 把\n                            ")],1)],e._v(" "),a("el-form-item",{attrs:{label:"绝缘剪断钳数量"}},[a("el-input",{attrs:{type:"number"},model:{value:e.facilitiesForm.scissorsPliers,callback:function(t){e.$set(e.facilitiesForm,"scissorsPliers",t)},expression:"facilitiesForm.scissorsPliers"}}),e._v(" 把\n                        ")],1),e._v(" "),a("el-form-item",{attrs:{label:"铁铤数量"}},[a("el-input",{attrs:{type:"number"},model:{value:e.facilitiesForm.ironCollar,callback:function(t){e.$set(e.facilitiesForm,"ironCollar",t)},expression:"facilitiesForm.ironCollar"}}),e._v(" 把\n                        ")],1)],2),e._v(" "),a("fieldset",[a("legend",[e._v("个人防护装备")]),e._v(" "),a("el-form-item",{attrs:{label:"消防头盔数量",prop:"fireHelmet"}},[a("el-input",{attrs:{type:"number"},model:{value:e.facilitiesForm.fireHelmet,callback:function(t){e.$set(e.facilitiesForm,"fireHelmet",t)},expression:"facilitiesForm.fireHelmet"}}),e._v(" 顶\n                        ")],1),e._v(" "),a("el-form-item",{attrs:{label:"消防员灭火防护服数量",prop:"protectiveClothing"}},[a("el-input",{attrs:{type:"number"},model:{value:e.facilitiesForm.protectiveClothing,callback:function(t){e.$set(e.facilitiesForm,"protectiveClothing",t)},expression:"facilitiesForm.protectiveClothing"}}),e._v(" 套\n                        ")],1),e._v(" "),a("el-form-item",{attrs:{label:"消防员灭火防护靴数量",prop:"protectiveBoots"}},[a("el-input",{attrs:{type:"number"},model:{value:e.facilitiesForm.protectiveBoots,callback:function(t){e.$set(e.facilitiesForm,"protectiveBoots",t)},expression:"facilitiesForm.protectiveBoots"}}),e._v(" 双\n                        ")],1),e._v(" "),a("el-form-item",{attrs:{label:"消防安全腰带数量",prop:"safetyBelt"}},[a("el-input",{attrs:{type:"number"},model:{value:e.facilitiesForm.safetyBelt,callback:function(t){e.$set(e.facilitiesForm,"safetyBelt",t)},expression:"facilitiesForm.safetyBelt"}}),e._v(" 条\n                        ")],1),e._v(" "),a("el-form-item",{attrs:{label:"消防手套数量",prop:"fireGloves"}},[a("el-input",{attrs:{type:"number"},model:{value:e.facilitiesForm.fireGloves,callback:function(t){e.$set(e.facilitiesForm,"fireGloves",t)},expression:"facilitiesForm.fireGloves"}}),e._v(" 双\n                        ")],1),e._v(" "),3==e.type?[a("el-form-item",{attrs:{label:"消防过滤式综合防毒面具数量"}},[a("el-input",{attrs:{type:"number"},model:{value:e.facilitiesForm.gasMask,callback:function(t){e.$set(e.facilitiesForm,"gasMask",t)},expression:"facilitiesForm.gasMask"}}),e._v(" 个\n                            ")],1)]:[a("el-form-item",{attrs:{label:"消防过滤式综合防毒面具数量",prop:"gasMask"}},[a("el-input",{attrs:{type:"number"},model:{value:e.facilitiesForm.gasMask,callback:function(t){e.$set(e.facilitiesForm,"gasMask",t)},expression:"facilitiesForm.gasMask"}}),e._v(" 个\n                            ")],1)]],2),e._v(" "),a("fieldset",[a("legend",[e._v("通讯器材")]),e._v(" "),a("el-form-item",{attrs:{label:"固定电话(值班室,寝室同号分机)数量",prop:"telephone"}},[a("el-input",{attrs:{type:"number"},model:{value:e.facilitiesForm.telephone,callback:function(t){e.$set(e.facilitiesForm,"telephone",t)},expression:"facilitiesForm.telephone"}}),e._v(" 台\n                        ")],1),e._v(" "),(e.type,[a("el-form-item",{attrs:{label:"对讲机数量",prop:"intercom"}},[a("el-input",{attrs:{type:"number"},model:{value:e.facilitiesForm.intercom,callback:function(t){e.$set(e.facilitiesForm,"intercom",t)},expression:"facilitiesForm.intercom"}}),e._v(" 台\n                            ")],1)]),e._v(" "),a("el-form-item",{attrs:{label:"POC对讲机数量"}},[a("el-input",{attrs:{type:"number"},model:{value:e.facilitiesForm.pocIntercom,callback:function(t){e.$set(e.facilitiesForm,"pocIntercom",t)},expression:"facilitiesForm.pocIntercom"}}),e._v(" 台\n                        ")],1)],2),e._v(" "),a("el-form-item",[a("el-button",{directives:[{name:"noMoreClick",rawName:"v-noMoreClick"}],attrs:{type:"primary"},on:{click:function(t){return e.facilitiesSubmit("facilitiesForm")}}},[e._v("保存")]),e._v(" "),a("el-button",{on:{click:e.facilitiesAddDialogFun}},[e._v("取消")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var s=a("VU/8")(o,l,!1,function(e){a("Kkwo")},"data-v-a0ba170a",null);t.default=s.exports},Kkwo:function(e,t){}});