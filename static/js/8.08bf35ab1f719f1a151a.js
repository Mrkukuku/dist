webpackJsonp([8],{"1Ie0":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={name:"child1",props:{name:Array,ids:Object,checkedCities:Array,required:!0},data:function(){return{typeData:[{alarmTypeName:"aa",alarmTypeId:1}],checkedAlarm:[]}},methods:{handleCheckedCitiesChange:function(e){console.log(this.checkedCities)},submitTmportant:function(){var e=this,t=this;this.axios({url:"/api/admin/alarm/alarmList",method:"post",data:{systemId:Number(this.ids.systemId),unitId:this.ids.companyId,list:this.checkedAlarm}}).then(function(a){0==a.data.code&&(t.$emit("list"),e.$alert("添加成功","提示",{confirmButtonText:"OK"}))})}},watch:{checkedCities:function(e){this.checkedAlarm=e}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"child1"},[a("div",[a("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.checkedAlarm,callback:function(t){e.checkedAlarm=t},expression:"checkedAlarm"}},e._l(e.name,function(t){return a("el-checkbox",{key:t.alarmTypeId,attrs:{label:t.alarmTypeId}},[e._v(e._s(t.alarmTypeName))])}),1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitTmportant}},[e._v("确定")])],1)])},staticRenderFns:[]};var n=a("VU/8")(i,s,!1,function(e){a("Vm0c")},"data-v-9506203e",null).exports,l={mixins:[a("g5qz").a],name:"tabZujian",components:{child1:n},data:function(){return{module:"ImportantAlarm",activeName:"1",typeData:[],userType:sessionStorage.getItem("userTypes"),checkedAlarm:[],ids:{companyId:"",systemId:1,unit_show:!1},treedefaultProps:{children:"children",label:"label"}}},methods:{handleClick:function(e,t){this.ids.systemId=this.activeName;var a=this;this.axios({url:"/api/admin/alarm/alarmType",method:"post",data:{pageNum:1,pageSize:1e3,systemId:this.activeName}}).then(function(e){0==e.data.code&&(a.typeData=e.data.list)})},renderContent:function(e,t){var a=t.node;return e("span",[e("i",{class:t.data.icon})," ",e("span",[a.label])])},handleNodeClick:function(e){this.ids.unit_show=!0,this.ids.companyId=e.id,this.rows=10,this.currentPage=1,this.list()},list:function(){var e=this;this.axios({url:"/api/admin/alarm/alarmList/query",method:"post",data:{unitId:this.ids.companyId,systemId:this.activeName}}).then(function(t){0==t.data.code&&(e.checkedAlarm=t.data.data.list?t.data.data.list:[])})}},mounted:function(){this.handleClick()},created:function(){this.ids.companyId=sessionStorage.getItem("unitId")}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"allcontent",attrs:{id:"ImportantAlarm"}},[3!=e.userType?a("el-col",{staticClass:"tree_box",attrs:{span:4}},[a("div",[a("el-input",{staticClass:"filter_text",attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),a("el-tree",{ref:"tree",attrs:{data:e.Treedata,props:e.treedefaultProps,"render-content":e.renderContent,"highlight-current":"","filter-node-method":e.filterNode},on:{"node-click":e.handleNodeClick}})],1)]):e._e(),e._v(" "),a("el-col",{staticStyle:{height:"100%"},attrs:{span:20}},[e.activeName?a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{key:1,attrs:{label:"远程监控系统",name:"1"}},[a("child1",{attrs:{name:e.typeData,ids:e.ids,checkedCities:e.checkedAlarm},on:{list:e.list}})],1),e._v(" "),a("el-tab-pane",{key:2,attrs:{label:"智慧用水系统",name:"2"}},[a("child1",{attrs:{name:e.typeData,ids:e.ids,checkedCities:e.checkedAlarm},on:{list:e.list}})],1),e._v(" "),a("el-tab-pane",{key:3,attrs:{label:"智慧用电系统",name:"3"}},[a("child1",{attrs:{name:e.typeData,ids:e.ids,checkedCities:e.checkedAlarm},on:{list:e.list}})],1),e._v(" "),a("el-tab-pane",{key:4,attrs:{label:"智能预警系统",name:"4"}},[a("child1",{attrs:{name:e.typeData,ids:e.ids,checkedCities:e.checkedAlarm},on:{list:e.list}})],1),e._v(" "),a("el-tab-pane",{key:5,attrs:{label:"燃气监测系统",name:"5"}},[a("child1",{attrs:{name:e.typeData,ids:e.ids,checkedCities:e.checkedAlarm},on:{list:e.list}})],1),e._v(" "),a("el-tab-pane",{key:6,attrs:{label:"智能电桩系统",name:"6"}},[a("child1",{attrs:{name:e.typeData,ids:e.ids,checkedCities:e.checkedAlarm},on:{list:e.list}})],1),e._v(" "),a("el-tab-pane",{key:7,attrs:{label:"智能疏散系统",name:"7"}},[a("child1",{attrs:{name:e.typeData,ids:e.ids,checkedCities:e.checkedAlarm},on:{list:e.list}})],1),e._v(" "),a("el-tab-pane",{key:8,attrs:{label:"视频监控系统",name:"8"}},[a("child1",{attrs:{name:e.typeData,ids:e.ids,checkedCities:e.checkedAlarm},on:{list:e.list}})],1)],1):e._e()],1)],1)},staticRenderFns:[]};var d=a("VU/8")(l,c,!1,function(e){a("xgqm")},null,null);t.default=d.exports},Vm0c:function(e,t){},xgqm:function(e,t){}});