webpackJsonp([26],{ZKeS:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={components:{pagination:a("MCsY").a},data:function(){return{module:"installationInformation",unitId:sessionStorage.getItem("unitId"),userType:sessionStorage.getItem("userTypes"),title:"",unitName:"",tableData:[{id:"1"},{id:"2"},{id:"3"},{id:"4"},{id:"5"},{id:"6"},{id:"7"},{id:"8"},{id:"9"},{id:"10"},{id:"11"},{id:"12"}],dialogVisible:!1,filterText:"",planId:"",selectionValue:[],options:[{value:1,label:"东南",children:[{value:2,label:"上海",children:[{value:3,label:"普陀"},{value:4,label:"黄埔"},{value:5,label:"徐汇"}]},{value:7,label:"江苏",children:[{value:8,label:"南京"},{value:9,label:"苏州"},{value:10,label:"无锡"}]},{value:12,label:"浙江",children:[{value:13,label:"杭州"},{value:14,label:"宁波"},{value:15,label:"嘉兴"}]}]},{value:17,label:"西北",children:[{value:18,label:"陕西",children:[{value:19,label:"西安"},{value:20,label:"延安"}]},{value:21,label:"新疆维吾尔族自治区",children:[{value:22,label:"乌鲁木齐"},{value:23,label:"克拉玛依"}]}]}],props:{multiple:!0},cascaderValue:[],dialogVisibleTime:!1,address:"",datePicker:[],pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{searchsubmit:function(){var e=this;this.currentPage=1,this.$refs.paginationChild.changePageNum(this.currentPage),this.axios({url:"/api/admin/device/install.search",method:"post",data:{unitId:this.unitId,pageSize:this.rows,pageNum:this.currentPage,title:this.title,unitName:this.unitName}}).then(function(t){0==t.data.code?(e.tableData=t.data.list,e.total=t.data.total,e.currentPage=t.data.pageNum):e.$alert(t.data.msg,"提示",{confirmButtonText:"OK"})})},searchreset:function(){this.title="",this.unitName=""},handleNodeClick:function(e){this.unitId=e.id,this.rows=10,this.currentPage=1,this.getData()},opendialog:function(){this.dialogVisible=!0},closedialog:function(){this.dialogVisible=!1},renderContent:function(e,t){var a=t.node;return e("span",[e("i",{class:t.data.icon})," ",e("span",[a.label])])},getData:function(){var e=this;this.axios({url:"/api/admin/fire/inspection/config/single",method:"post",data:{id:this.unitId}}).then(function(t){0==t.data.code&&(e.tableData=t.data.data)})},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleSelectionChange:function(e){for(var t in this.selectionValue=[],e)this.selectionValue.push(e[t].id)},cascaderChange:function(e){console.log(e)},setLocation:function(){this.dialogVisibleTime=!0},closeTimeDialog:function(){this.dialogVisibleTime=!1}},mounted:function(){this.planId=this.$route.query.id},watch:{filterText:function(e){this.$refs.tree.filter(e)}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"maintenanceItems allcontent"},[a("div",{staticClass:"top"},[a("div",[e._v("\n            标题:\n            "),a("el-input",{model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),e._v("  \n            "),a("el-button",{attrs:{type:"primary"},on:{click:e.searchsubmit}},[e._v("查询")]),e._v(" "),a("el-button",{on:{click:e.searchreset}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:e.opendialog}},[e._v("导入维保项")])],1)]),e._v(" "),a("div",{staticStyle:{"margin-top":"10px",height:"88%",position:"relative"}},[a("el-table",{staticStyle:{width:"150"},attrs:{data:e.tableData,border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"debuggerPhone",label:"测试日期",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"debuggerPhone",label:"系统名称",width:"190"}}),e._v(" "),a("el-table-column",{attrs:{prop:"debuggerPhone",label:"维保项目",width:"190"}}),e._v(" "),a("el-table-column",{attrs:{prop:"debuggerPhone",label:"维保内容",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"debuggerPhone",label:"位置",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"debuggerPhone",label:"计划下发状态",width:"110"}}),e._v(" "),a("el-table-column",{attrs:{prop:"debuggerPhone",label:"工程师",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"debuggerPhone",label:"计划完成状态",width:"110"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.setLocation(t.row.id)}}},[e._v("设置时间位置")])]}}])})],1),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary",plain:""}},[e._v("下发计划")]),e._v(" "),a("el-button",{attrs:{plain:""}},[e._v("取消")])],1),e._v(" "),a("el-dialog",{staticClass:"dialog",attrs:{title:"导入维保项目",visible:e.dialogVisible,width:"30%","close-on-click-modal":!1,"before-close":e.closedialog},on:{"update:visible":function(t){e.dialogVisible=t}}},[e._v("\n            选择维保项目:\n                "),a("el-cascader",{attrs:{options:e.options,props:e.props,"collapse-tags":"",filterable:"",clearable:""},on:{change:e.cascaderChange},model:{value:e.cascaderValue,callback:function(t){e.cascaderValue=t},expression:"cascaderValue"}}),e._v(" "),a("el-button",{attrs:{type:"primary"}},[e._v("导入")])],1),e._v(" "),a("el-dialog",{staticClass:"dialog",attrs:{title:"设置时间位置",visible:e.dialogVisibleTime,"close-on-click-modal":!1,"before-close":e.closeTimeDialog},on:{"update:visible":function(t){e.dialogVisibleTime=t}}},[a("div",{staticClass:"timeBox"},[a("div",{staticClass:"cssRowBox"},[a("div",[e._v("\n                        时间 :  \n                    ")]),e._v(" "),a("div",[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.datePicker,callback:function(t){e.datePicker=t},expression:"datePicker"}})],1)]),e._v(" "),a("div",{staticClass:"cssRowBox"},[a("div",[e._v("\n                        位置 :  \n                    ")]),e._v(" "),a("div",[a("el-input",{attrs:{type:"textarea"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1)]),e._v(" "),a("div",{staticClass:"cssRowBox",staticStyle:{"justify-content":"center"}},[a("el-button",{attrs:{type:"primary"}},[e._v("确定")]),e._v(" "),a("el-button",{on:{click:e.closeTimeDialog}},[e._v("取消")])],1)])])],1)])},staticRenderFns:[]};var n=a("VU/8")(i,l,!1,function(e){a("ZrnJ")},"data-v-66b25a03",null);t.default=n.exports},ZrnJ:function(e,t){}});