webpackJsonp([28],{Mslc:function(e,l){},ngB1:function(e,l,r){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var t=r("mvHQ"),a=r.n(t),o={data:function(){return{ruleForm:{unitName:"",address:"",leader:"",phone:"",fireSafety:"0",dailyCheck:"0",fireProtection:"0",safetyContent:"",eleWiring:"0",openArea:"0",controlContent:"",result:"0",illegal:"1",illegalName:"",illegalSex:"0",illegalPhone:"",illegalCard:"",statingPlea:"1",delinquent:"",rummager:"",accpmpaniedRummager:"",content:""},rules:{unitName:[{required:!0,message:"请输入正确的单位名字",trigger:"blur"}],address:[{required:!0,message:"请输入正确的单位地址",trigger:"blur"}],leader:[{required:!0,message:"请输入正确的负责人",trigger:"blur"}],phone:[{required:!0,message:"请输入正确的联系方式",trigger:"blur"},{pattern:/^(1\d{10})|(0\d{2,3}-\d{7,8})$/,message:"联系方式格式不正确",trigger:"blur"}],safetyContent:[{required:!0,message:"请输入消防安全管理检查情况",trigger:"blur"}],controlContent:[{required:!0,message:"请输入火源控管检查情况",trigger:"blur"}],illegalName:[{required:!0,message:"请输入违法人员姓名",trigger:"blur"}],illegalPhone:[{required:!0,message:"请输入违法人员电话",trigger:"blur"},{pattern:/^(1\d{10})|(0\d{2,3}-\d{7,8})$/,message:"联系方式格式不正确",trigger:"blur"}],illegalCard:[{required:!0,message:"请输入正确的违法人员身份证",trigger:"blur"},{pattern:/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2}$)/,message:"证件号码格式有误！",trigger:"blur"}],rummager:[{required:!0,message:"请输入正确的检查人签名",trigger:"blur"}],accpmpaniedRummager:[{required:!0,message:"请输入正确的陪同检查人签名",trigger:"blur"}]},Information:"因你的行为可能涉嫌违法《中华人民共和国消防法》和《浙江省消防条例》相关规定，我单位将依法将本案件移交相关消防机构进行处理，你是否提出陈诉和申辩？",resultOptions:[{label:"合格",value:"0"},{label:"不合格",value:"1"},{label:"不合格经口头责令当场整改",value:"2"}],taskId:"",userId:""}},methods:{submitForm:function(e){var l=this;this.$refs[e].validate(function(e){l.taskId?e&&(l.ruleForm.imageId=l.taskId,l.ruleForm.uid=l.userId,l.axios({method:"post",url:"/api/admin/police/trouble/add",data:l.ruleForm}).then(function(e){0==e.data.code?(l.$message({message:"创建成功",type:"success"}),sessionStorage.removeItem("ruleForm"),sessionStorage.removeItem("taskId"),l.$router.push("/regulations")):_this.$alert(e.data.msg,"提示",{confirmButtonText:"OK"})})):l.$message.error("请补充完整电子凭证")})},jump:function(){sessionStorage.setItem("ruleForm",a()(this.ruleForm)),this.$router.push("/electronic")}},mounted:function(){this.userId=sessionStorage.getItem("huanUId"),sessionStorage.getItem("taskId")&&(this.taskId=sessionStorage.getItem("taskId")),sessionStorage.getItem("ruleForm")&&(this.ruleForm=JSON.parse(sessionStorage.getItem("ruleForm")))}},s={render:function(){var e=this,l=e.$createElement,r=e._self._c||l;return r("div",{staticClass:"addTask"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules}},[r("el-form-item",{attrs:{label:"单位名称",prop:"unitName"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.ruleForm.unitName,callback:function(l){e.$set(e.ruleForm,"unitName",l)},expression:"ruleForm.unitName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"单位地址",prop:"address"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.ruleForm.address,callback:function(l){e.$set(e.ruleForm,"address",l)},expression:"ruleForm.address"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"法人代表/主要负责人",prop:"leader"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.ruleForm.leader,callback:function(l){e.$set(e.ruleForm,"leader",l)},expression:"ruleForm.leader"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"联系方式",prop:"phone"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.ruleForm.phone,callback:function(l){e.$set(e.ruleForm,"phone",l)},expression:"ruleForm.phone"}})],1),e._v(" "),r("div",{staticClass:"textDesc"},[e._v("单位履行消防安全职责情况")]),e._v(" "),r("div",{staticClass:"textDesc"},[e._v("消防安全管理")]),e._v(" "),r("el-form-item",{attrs:{label:"消防安全制度"}},[r("el-radio",{attrs:{label:"0"},model:{value:e.ruleForm.fireSafety,callback:function(l){e.$set(e.ruleForm,"fireSafety",l)},expression:"ruleForm.fireSafety"}},[e._v("有")]),e._v(" "),r("el-radio",{attrs:{label:"1"},model:{value:e.ruleForm.fireSafety,callback:function(l){e.$set(e.ruleForm,"fireSafety",l)},expression:"ruleForm.fireSafety"}},[e._v("无")]),e._v(" "),r("el-radio",{attrs:{label:"2"},model:{value:e.ruleForm.fireSafety,callback:function(l){e.$set(e.ruleForm,"fireSafety",l)},expression:"ruleForm.fireSafety"}},[e._v("不全")])],1),e._v(" "),r("el-form-item",{attrs:{label:"日常检查制度"}},[r("el-radio",{attrs:{label:"0"},model:{value:e.ruleForm.dailyCheck,callback:function(l){e.$set(e.ruleForm,"dailyCheck",l)},expression:"ruleForm.dailyCheck"}},[e._v("有")]),e._v(" "),r("el-radio",{attrs:{label:"1"},model:{value:e.ruleForm.dailyCheck,callback:function(l){e.$set(e.ruleForm,"dailyCheck",l)},expression:"ruleForm.dailyCheck"}},[e._v("无")])],1),e._v(" "),r("el-form-item",{attrs:{label:"日常培训情况"}},[r("el-radio",{attrs:{label:"0"},model:{value:e.ruleForm.fireProtection,callback:function(l){e.$set(e.ruleForm,"fireProtection",l)},expression:"ruleForm.fireProtection"}},[e._v("有")]),e._v(" "),r("el-radio",{attrs:{label:"1"},model:{value:e.ruleForm.fireProtection,callback:function(l){e.$set(e.ruleForm,"fireProtection",l)},expression:"ruleForm.fireProtection"}},[e._v("无")])],1),e._v(" "),r("el-form-item",{attrs:{label:"检查情况",prop:"safetyContent"}},[r("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.ruleForm.safetyContent,callback:function(l){e.$set(e.ruleForm,"safetyContent",l)},expression:"ruleForm.safetyContent"}})],1),e._v(" "),r("div",{staticClass:"textDesc"},[e._v("火源控管")]),e._v(" "),r("el-form-item",{attrs:{label:"电气线路敷设,安装"}},[r("el-radio",{attrs:{label:"0"},model:{value:e.ruleForm.eleWiring,callback:function(l){e.$set(e.ruleForm,"eleWiring",l)},expression:"ruleForm.eleWiring"}},[e._v("符合")]),e._v(" "),r("el-radio",{attrs:{label:"1"},model:{value:e.ruleForm.eleWiring,callback:function(l){e.$set(e.ruleForm,"eleWiring",l)},expression:"ruleForm.eleWiring"}},[e._v("不符合")])],1),e._v(" "),r("el-form-item",{attrs:{label:"明火区域设置"}},[r("el-radio",{attrs:{label:"0"},model:{value:e.ruleForm.openArea,callback:function(l){e.$set(e.ruleForm,"openArea",l)},expression:"ruleForm.openArea"}},[e._v("有隔离")]),e._v(" "),r("el-radio",{attrs:{label:"1"},model:{value:e.ruleForm.openArea,callback:function(l){e.$set(e.ruleForm,"openArea",l)},expression:"ruleForm.openArea"}},[e._v("无隔离")])],1),e._v(" "),r("el-form-item",{attrs:{label:"检查情况",prop:"controlContent"}},[r("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.ruleForm.controlContent,callback:function(l){e.$set(e.ruleForm,"controlContent",l)},expression:"ruleForm.controlContent"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"检查结果"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.result,callback:function(l){e.$set(e.ruleForm,"result",l)},expression:"ruleForm.result"}},e._l(e.resultOptions,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"是否存在违法行为"}},[r("el-radio",{attrs:{label:"0"},model:{value:e.ruleForm.illegal,callback:function(l){e.$set(e.ruleForm,"illegal",l)},expression:"ruleForm.illegal"}},[e._v("是")]),e._v(" "),r("el-radio",{attrs:{label:"1"},model:{value:e.ruleForm.illegal,callback:function(l){e.$set(e.ruleForm,"illegal",l)},expression:"ruleForm.illegal"}},[e._v("无")])],1),e._v(" "),0==e.ruleForm.illegal?[r("div",{staticClass:"textDesc"},[e._v("违法行为人基本情况")]),e._v(" "),r("el-form-item",{attrs:{label:"姓名",prop:"illegalName"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.ruleForm.illegalName,callback:function(l){e.$set(e.ruleForm,"illegalName",l)},expression:"ruleForm.illegalName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"性别"}},[r("el-radio",{attrs:{label:"0"},model:{value:e.ruleForm.illegalSex,callback:function(l){e.$set(e.ruleForm,"illegalSex",l)},expression:"ruleForm.illegalSex"}},[e._v("男")]),e._v(" "),r("el-radio",{attrs:{label:"1"},model:{value:e.ruleForm.illegalSex,callback:function(l){e.$set(e.ruleForm,"illegalSex",l)},expression:"ruleForm.illegalSex"}},[e._v("女")])],1),e._v(" "),r("el-form-item",{attrs:{label:"联系方式",prop:"illegalPhone"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.ruleForm.illegalPhone,callback:function(l){e.$set(e.ruleForm,"illegalPhone",l)},expression:"ruleForm.illegalPhone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"居民身份证",prop:"illegalCard"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.ruleForm.illegalCard,callback:function(l){e.$set(e.ruleForm,"illegalCard",l)},expression:"ruleForm.illegalCard"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"告知情况"}},[r("div",{staticClass:"Information"},[e._v(e._s(e.Information))]),e._v(" "),r("el-radio",{attrs:{label:"0"},model:{value:e.ruleForm.statingPlea,callback:function(l){e.$set(e.ruleForm,"statingPlea",l)},expression:"ruleForm.statingPlea"}},[e._v("是")]),e._v(" "),r("el-radio",{attrs:{label:"1"},model:{value:e.ruleForm.statingPlea,callback:function(l){e.$set(e.ruleForm,"statingPlea",l)},expression:"ruleForm.statingPlea"}},[e._v("否")])],1),e._v(" "),r("el-form-item",{attrs:{label:"违法行为人签名"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.ruleForm.delinquent,callback:function(l){e.$set(e.ruleForm,"delinquent",l)},expression:"ruleForm.delinquent"}})],1)]:e._e(),e._v(" "),r("el-form-item",{attrs:{label:"备注"}},[r("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.ruleForm.content,callback:function(l){e.$set(e.ruleForm,"content",l)},expression:"ruleForm.content"}})],1),e._v(" "),r("div",{staticClass:"textDesc",on:{click:e.jump}},[e._v("电子凭据 +")]),e._v(" "),r("el-form-item",{attrs:{label:"检察人签名",prop:"rummager"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.ruleForm.rummager,callback:function(l){e.$set(e.ruleForm,"rummager",l)},expression:"ruleForm.rummager"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"陪同检查人员签名",prop:"accpmpaniedRummager"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.ruleForm.accpmpaniedRummager,callback:function(l){e.$set(e.ruleForm,"accpmpaniedRummager",l)},expression:"ruleForm.accpmpaniedRummager"}})],1),e._v(" "),r("el-form-item",{staticClass:"submitButton"},[r("el-button",{attrs:{type:"primary"},on:{click:function(l){return e.submitForm("ruleForm")}}},[e._v("提交")])],1)],2)],1)},staticRenderFns:[]};var i=r("VU/8")(o,s,!1,function(e){r("Mslc")},"data-v-5cfb88f8",null);l.default=i.exports}});